<link href="../polymer/polymer.html" rel="import">

<link href="../core-a11y-keys/core-a11y-keys.html" rel="import">
<link href="../core-dropdown/core-dropdown-base.html" rel="import">
<link href="../core-focusable/core-focusable.html" rel="import">
<link href="../core-icon/core-icon.html" rel="import">
<link href="../core-icons/core-icons.html" rel="import">
<link href="../paper-shadow/paper-shadow.html" rel="import">
<link href="paper-tag.html" rel="import">

<style shim-shadowdom>
  html /deep/ #paper-dropdown-menu-dropdown {
    margin: 12px;
    overflow: visible;
  }

  html /deep/ #paper-dropdown-menu-dropdown #menu {
    padding: 8px 0;
    margin: 0;
  }

  html /deep/ #paper-dropdown-menu-dropdown .menu-container {
    overflow: auto;
    max-height: 100%;
    max-width: 100%;
  }
</style>

<polymer-element name="paper-tags-menu" attributes="tags label" extends="core-dropdown-base" relative layout inline horizontal center tabindex="0">
  <template>
    <style>
      :host {
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: pointer;
        padding: 0.5em 0 0.25em;
        margin: 0.75em 0;
        border-bottom: 1px solid #757575;
        outline: none;
      }

      #label:not(.selectedItem), #arrow {
        color: #757575;
      }

      #label {
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }
    </style>

    <core-a11y-keys target="{{}}" keys="enter space" on-keys-pressed="{{toggleOverlay}}"></core-a11y-keys>
    <div horizontal layout flex>
      <template if="{{tags.length==0}}">
        <div id="label">{{label}}</div>
      </template>
      <div>
        <template repeat="{{tag in tags}}">
          <paper-tag tag="{{tag}}" on-delete="{{onDeleteTag}}"></paper-tag>
        </template>
      </div>
    </div>
    <core-icon id="arrow" icon="{{opened ? openedIcon : closedIcon}}"></core-icon>

    <content></content>

  </template>
  <script src="paper-tags-menu.js"></script>
</polymer-element>
